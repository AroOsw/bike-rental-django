{% extends 'base.html' %}
{% load static %}

{% block content %}
<!--<div class="col-xxl-11 col-12 mx-auto">-->

<!--</div>-->
<div class="container my-5">
  <div class="text-overlay text-center py-3 my-4">
    <h2><span class="wild-text">Discover</span> Hua Hin's Best Cycling Routes</h2>
    <p class="bold">
      Download our hand-tested routes as GPX files and ride with confidenceâ€”or customize them to create your perfect
      adventure.</p>
  </div>
  <div class="routes-card-container">
    {% for activity in activities %}
    <div class="col-12 col-xl-4 col-md-6 p-3">
      <div class="routes-card bg-dark">
        <div class="activity card-map p-3">
          <div id="map-{{ activity.id }}" style="width: 400px; height: 400px;"></div>
          <input type="hidden" id="polyline-{{ activity.id }}" value="{{ activity.summary_polyline }}">
        </div>
        <hr>
        <div class="card-body">
          <ul class="list-group list-group-flush">
            <li class="list-group-item bg-transparent text-white border-0">
              <i class="fas fa-route me-2 text-success"></i> Distance: {{ activity.distance|floatformat:2 }} km
            </li>
            <li class="list-group-item bg-transparent text-white border-0">
              <i class="fas fa-mountain me-2 text-success"></i>
              Elevation: {{ activity.total_elevation|floatformat:2 }} m
            </li>
            <li class="list-group-item bg-transparent text-white border-0">
              <i class="fas fa-calendar-alt me-2 text-success"></i>
              Date: {{ activity.start_date|date:"d M Y, H:i" }}
            </li>
          </ul>
          <hr>
          <div class="d-flex justify-content-center pb-3">
            <a href="{% url 'download_gpx' activity.id %}" class="btn btn-success">Download GPX</a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
<script src="{% static 'js/polyline.js' %}"></script>

{% endblock %}